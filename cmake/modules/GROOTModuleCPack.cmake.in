set(CMAKE_INSTALL_UCRT_LIBRARIES TRUE)
set(CMAKE_INSTALL_SYSTEM_RUNTIME_LIBS_NO_WARNINGS TRUE)
include(InstallRequiredSystemLibraries)

set(GNURadio_SOURCE_DIR ${PROJECT_SOURCE_DIR})
set(GNURadio_BINARY_DIR ${CMAKE_BINARY_DIR})

set(CPACK_PACKAGE_NAME "@OOT_MODULE_NAME@")
set(CPACK_PACKAGE_VERSION_MAJOR "${@OOT_MODULE_NAME@_VERSION_MAJOR}")
set(CPACK_PACKAGE_VERSION_MINOR "${@OOT_MODULE_NAME@_VERSION_MINOR}")
set(CPACK_PACKAGE_VERSION_PATCH "${@OOT_MODULE_NAME@_VERSION_PATCH}")
set(CPACK_PACKAGE_VERSION "${@OOT_MODULE_NAME@_VERSION}")
set(CPACK_PACKAGE_INSTALL_DIRECTORY "GNU Radio/@OOT_MODULE_NAME@")
set(CPACK_PACKAGE_VENDOR "@OOT_MODULE_SITE@")
set(CPACK_PACKAGE_DESCRIPTION
  "@OOT_MODULE_DESCRIPTION@")

set(CPACK_RESOURCE_FILE_LICENSE "@OOT_MODULE_LICENSE@")
set(CPACK_PACKAGE_CONTACT "@OOT_MODULE_CONTACT@")

set(CPACK_WIX_UPGRADE_GUID  "*")

configure_file("${CMAKE_CURRENT_LIST_DIR}/OOTModuleCPackOptions.cmake.in"
  "${GNURadio_BINARY_DIR}/OOTModuleCPackOptions.cmake" @ONLY)
set(CPACK_PROJECT_CONFIG_FILE
  "${GNURadio_BINARY_DIR}/OOTModuleCPackOptions.cmake")

include(${PROJECT_SOURCE_DIR}/cmake/Modules/BundlePythonDeps.cmake)

include(CPack)

foreach(component ${_gr_enabled_components})
  GR_CONFIGURE_INSTALLER_COMPONENT(${component})
endforeach()
